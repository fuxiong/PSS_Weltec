@model PSS_Weltec.Models.Idea

@{
    ViewBag.Title = "IdeaEditLoad";
    Layout = "~/Views/Shared/FrameShare.cshtml";
}

<div region="center" title="" border="false" style="padding: 0px 0px 2px 0px; overflow: hidden;">
    <div class="easyui-panel" title="" fit="true" border="true" style="overflow: hidden;">
        <div class="easyui-layout" fit="true">
            <div region="north" title="" border="false" style="height: 26px; overflow: hidden;">
                <div class="div_toolbar" style="float: left; height: 26px; width: 100%; border-bottom: 1px solid #99BBE8; padding: 1px;">
                    <a href="javascript:void(0);" class="easyui-linkbutton" id="Save" plain="true" icon="icon-save" onclick="Save();">Save</a>
                </div>
            </div>
            <div region="center" border="true" style="overflow: auto;">
                <form id="modelForm" method="post">
                    <fieldset style="padding: 10px; text-align: left;">
                        <legend><b>Idea Details</b></legend>
                        <table style="width: 99%; margin: 10px auto;" border="1">
                            <tr style="height: 24px">
                                <td style="width: 10%; text-align: right;">
                                    <b>Idea Title:&nbsp;&nbsp;&nbsp;&nbsp;</b>
                                </td>
                                <td style="width: 40%; text-align: left;" colspan="3">
                                    <input id="Idea_Title" name="Idea_Title" type="text" style="width: 95%;" />
                                    <input id="Idea_Trimester_Id" name="Idea_Trimester_Id" name="Idea_Title" hidden="hidden" value="@Model.Idea_Trimester_Id"/>
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 10%; text-align: right;">
                                    <b>Staff Contact:&nbsp;&nbsp;&nbsp;&nbsp;</b>
                                </td>
                                <td style="width: 40%; text-align: left;">
                                    <input id="Idea_Staff_Contact" name="Idea_Staff_Contact" type="text" style="width: 95%;" />
                                </td>
                                <td style="width: 10%; text-align: right;" nowrap>
                                    <b>Client Contact:&nbsp;&nbsp;&nbsp;&nbsp;</b>
                                </td>
                                <td style="width: 40%; text-align: left;">
                                    <input id="Idea_Client_Contact" name="Idea_Client_Contact" type="text" style="width: 89%;" />
                                </td>
                            </tr>
                            <tr style="height: 24px">
                                <td style="width: 10%; text-align: right;">
                                    <b>Client Company:&nbsp;&nbsp;</b>
                                </td>
                                <td style="width: 40%; text-align: left;" colspan="3">
                                    <input id="Idea_Client_Company" name="Idea_Client_Company" type="text" style="width: 95%;" />
                                </td>
                            </tr>
                            <tr>
                                <td style="width: 10%; text-align: right;">
                                    <b>Valid Dates:&nbsp;&nbsp;&nbsp;&nbsp;</b>
                                </td>
                                <td style="width: 40%; text-align: left;">
                                    <input id="Idea_Valid_Dates" name="Idea_Valid_Dates" type="text" style="width: 95%;" />
                                </td>
                                <td style="width: 10%; text-align: right;" nowrap>
                                    <b># Students:&nbsp;&nbsp;&nbsp;&nbsp;</b>
                                </td>
                                <td style="width: 40%; text-align: left;">
                                    <input id="Idea_Students_Num" name="Idea_Students_Num" type="text" style="width: 20%;" />
                                    <b>&nbsp;&nbsp;&nbsp;&nbsp;Continuation?&nbsp;&nbsp;&nbsp;&nbsp;</b>
                                    @Html.DropDownList("Idea_Continuation", (IEnumerable<SelectListItem>)ViewData["list"], new { style = "width:50px;" })
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <b>Short Description</b><span>(1-2 sentences):&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <textarea id="Idea_Description" name="Idea_Description" style="width: 98%;" rows="8"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <b>Major Skills Required</b><span>:&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <textarea style="width: 98%;" id="Idea_Skills_Required" name="Idea_Skills_Required" rows="4"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <b>Context</b><span>(describe environment and situation):&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <textarea style="width: 98%;" id="Idea_Context" name="Idea_Context" rows="8"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <b>Goals</b><span>(main achievements or deliverables required):&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <textarea style="width: 98%;" id="Idea_Goals" name="Idea_Goals" rows="8"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <b>Features</b><span>(design features and any other required content ):&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <textarea style="width: 98%;" id="Idea_Features" name="Idea_Features" rows="8"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <b>Challenges</b><span>(expected difficulties and risks ):&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <textarea style="width: 98%;" id="Idea_Challenges" name="Idea_Challenges" rows="8"></textarea>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <b>Further Opportunities</b><span>(for further development or extension):&nbsp;&nbsp;&nbsp;&nbsp;</span>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;" colspan="4">
                                    <textarea style="width: 98%;" id="Idea_Opportunities" name="Idea_Opportunities" rows="8"></textarea>
                                </td>
                            </tr>
                        </table>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(function () {
        Load();
    })
    function Load() {
        var modelId = "@Model.Idea_Id";
        if (modelId != null && modelId != 0 && modelId != "") {
            $("#Idea_Title").val("@Model.Idea_Title");
            $("#Idea_Staff_Contact").val("@Model.Idea_Staff_Contact");
            $("#Idea_Client_Contact").val("@Model.Idea_Client_Contact");
            $("#Idea_Client_Company").val("@Model.Idea_Client_Company");
            $("#Idea_Valid_Dates").val("@Model.Idea_Valid_Dates");
            $("#Idea_Students_Num").val("@Model.Idea_Students_Num");
            $("#Idea_Continuation").val("@Model.Idea_Continuation");

            $("#Idea_Description").val(unescape("@Model.Description"));
            $("#Idea_Skills_Required").val(unescape("@Model.Skills_Required"));
            $("#Idea_Context").val(unescape("@Model.Context"));
            $("#Idea_Goals").val(unescape("@Model.Goals"));
            $("#Idea_Features").val(unescape("@Model.Features"));
            $("#Idea_Challenges").val(unescape("@Model.Challenges"));
            $("#Idea_Opportunities").val(unescape("@Model.Opportunities"));

            $("#Idea_Title").focus();
        }
    }
    function Save() {
        var modelId = "@Model.Idea_Id";
        var sUrl = '/Idea/IdeaSave/';
        if (modelId != null && modelId != 0 && modelId != "") {
            sUrl = '/Idea/IdeaSave/?id=' + modelId;
        }
        $('#modelForm').form('submit', {
            url: sUrl,
            onSubmit: function () {
                return $('#modelForm').form('validate');
            },
            success: function (r) {
                var rVal = $.parseJSON(r);
                if (rVal.result) {
                    $.messager.alert('Success', 'Success to save!', 'success');
                    $('#Save').hide();
                } else {
                    $.messager.alert('Error', 'Fail:' + rVal.message, 'error');
                }
            }
        })
    }
</script>
